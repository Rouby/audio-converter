var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,s)=>{for(var n in s||(s={}))a.call(s,n)&&o(e,n,s[n]);if(t)for(var n of t(s))r.call(s,n)&&o(e,n,s[n]);return e};import{u as n,r as l,J as c,M as p,c as i,R as m,C as u,T as d,a as x,B as g,F as E,L as f,b,d as v}from"./vendor.382c293f.js";const{createFFmpeg:h,fetchFile:y}=window.FFmpeg,w=h();function F(){const{acceptedFiles:e,getRootProps:t,getInputProps:a,isDragActive:r,isDragAccept:o,isDragReject:b}=n({accept:"audio/*"}),[v,h]=l.exports.useState({}),[F,D]=l.exports.useState(null),[S,j]=l.exports.useState(""),[z,A]=l.exports.useState(0);w.setProgress((({ratio:e})=>{A(Math.round(100*e))})),l.exports.useEffect((()=>{if(e.length>0){!async function(){await w.load();const t={};h(s({},t));const a=new c;for(const r of e){A(0),j(r.name),w.FS("writeFile",r.name,await y(r)),await w.run("-i",r.name,"output.ogg"),console.log(w.progress);const e=w.FS("readFile","output.ogg"),o=new Blob([e],{type:"audio/ogg"});t[r.name]=URL.createObjectURL(o),a.file(r.name.replace(/\.\w+$/,".ogg"),o),h(s({},t))}D(a)}()}}),[e]);const[N,O]=l.exports.useState(!1);return l.exports.createElement(p,{theme:{colorScheme:"dark"}},l.exports.createElement("div",{className:"App"},l.exports.createElement("header",{className:"App-header"},"Audio Converter"),l.exports.createElement("div",{className:"Dropzone-container"},l.exports.createElement("div",s({},t({className:i("Dropzone",r&&"Dropzone-active",o&&"Dropzone-accept",b&&"Dropzone-reject")})),l.exports.createElement("input",s({},a())),l.exports.createElement("p",null,"Drag 'n' drop some files here, or click to select files")),l.exports.createElement("ul",{className:"File-list"},e.map((e=>l.exports.createElement("li",{key:e.name,className:"File"},l.exports.createElement("div",null,l.exports.createElement(m,{size:60,thickness:8,sections:[{value:S===e.name?z:v[e.name]?100:0,color:"teal"}],label:l.exports.createElement(u,null,v[e.name]?l.exports.createElement(x,{style:{height:22,width:22}}):l.exports.createElement(d,{size:"xs"},S===e.name?z:0,"%"))})),l.exports.createElement("div",null,e.name),v[e.name]?l.exports.createElement("audio",{className:"Player",controls:!0,src:v[e.name]}):l.exports.createElement("div",null))))),F?l.exports.createElement(u,null,l.exports.createElement(g,{disabled:N,onClick:()=>{O(!0),F.generateAsync({type:"blob"}).then((e=>E.exports.saveAs(e,"audio.zip"))).then((()=>O(!1)))}},N?l.exports.createElement(f,null):null,"Download all")):null)))}b.render(v.createElement(v.StrictMode,null,v.createElement(F,null)),document.getElementById("root"));
