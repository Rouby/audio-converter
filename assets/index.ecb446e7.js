var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,s=(e,s)=>{for(var l in s||(s={}))a.call(s,l)&&o(e,l,s[l]);if(t)for(var l of t(s))r.call(s,l)&&o(e,l,s[l]);return e};import{u as l,r as n,J as c,M as p,c as i,R as m,C as u,T as d,a as x,B as g,F as E,L as f,b,d as v}from"./vendor.382c293f.js";const{createFFmpeg:y,fetchFile:h}=window.FFmpeg,w=y();function F(){const{acceptedFiles:e,getRootProps:t,getInputProps:a,isDragActive:r,isDragAccept:o,isDragReject:b}=l({accept:"audio/*"}),[v,y]=n.exports.useState({}),[F,D]=n.exports.useState(null),[S,j]=n.exports.useState(""),[z,A]=n.exports.useState(0);w.setProgress((({ratio:e})=>{A(Math.round(100*e))})),n.exports.useEffect((()=>{if(e.length>0){!async function(){await w.load();const t={};y(s({},t));const a=new c;for(const r of e){j(r.name),w.FS("writeFile",r.name,await h(r)),await w.run("-i",r.name,"output.ogg"),console.log(w.progress);const e=w.FS("readFile","output.ogg"),o=new Blob([e],{type:"audio/ogg"});t[r.name]=URL.createObjectURL(o),a.file(r.name.replace(/\.\w+$/,".ogg"),o),y(s({},t))}D(a)}()}}),[e]);const[N,O]=n.exports.useState(!1);return n.exports.createElement(p,{theme:{colorScheme:"dark"}},n.exports.createElement("div",{className:"App"},n.exports.createElement("header",{className:"App-header"},"Audio Converter"),n.exports.createElement("div",{className:"Dropzone-container"},n.exports.createElement("div",s({},t({className:i("Dropzone",r&&"Dropzone-active",o&&"Dropzone-accept",b&&"Dropzone-reject")})),n.exports.createElement("input",s({},a())),n.exports.createElement("p",null,"Drag 'n' drop some files here, or click to select files")),n.exports.createElement("ul",{className:"File-list"},e.map((e=>n.exports.createElement("li",{key:e.name,className:"File"},n.exports.createElement("div",null,n.exports.createElement(m,{size:60,thickness:8,sections:[{value:S===e.name?z:v[e.name]?100:0,color:"teal"}],label:n.exports.createElement(u,null,v[e.name]?n.exports.createElement(x,{style:{height:22,width:22}}):n.exports.createElement(d,{size:"xs"},S===e.name?z:0,"%"))})),n.exports.createElement("div",null,e.name),v[e.name]?n.exports.createElement("audio",{className:"Player",controls:!0,src:v[e.name]}):n.exports.createElement("div",null))))),F?n.exports.createElement(u,null,n.exports.createElement(g,{disabled:N,onClick:()=>F.generateAsync({type:"blob"}).then((e=>E.exports.saveAs(e,"audio.zip")))},N?n.exports.createElement(f,null):null,"Download all")):null)))}b.render(v.createElement(v.StrictMode,null,v.createElement(F,null)),document.getElementById("root"));
